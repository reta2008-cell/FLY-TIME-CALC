:root{
  --bg:#0b0b0f;
  --panel:#12121a;
  --stroke:rgba(255,255,255,.55);
  --num:rgba(255,255,255,.24);
  --text:#fff;
}

*{box-sizing:border-box}
html, body{height:100%; margin:0; padding:0}

body{
  background:var(--bg);
  color:var(--text);
  font-family: -apple-system, system-ui, Segoe UI, Roboto, Arial;
  overflow:hidden;              /* no page scroll */
  overscroll-behavior:none;
}

/* Full-screen app (iOS-safe) */
.app{
  height:100dvh;                /* key fix for iOS Safari */
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:12px;
  padding-bottom:calc(12px + env(safe-area-inset-bottom));
}

/* Top bar */
.top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-shrink:0;
}
.title{font-size:20px; font-weight:800; letter-spacing:.2px}
.iconBtn{
  background:transparent;
  border:0;
  color:white;
  font-size:20px;
  padding:8px 10px;
  opacity:.9;
  touch-action:manipulation;
  -webkit-user-select:none;
  user-select:none;
}

/* Tape takes remaining space */
.tape{
  flex:1;
  min-height:0;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.18);
  border-radius:12px;
  padding:10px;
  overflow:auto;
}
.tapeInner{display:flex; flex-direction:column; gap:10px}
.tapeRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:18px;
  font-weight:800;
  opacity:.95;
  padding:4px 2px;
  border-bottom:1px solid rgba(255,255,255,.10);
}
.tapeRow .sym{width:26px; opacity:.85}
.tapeRow .val{font-variant-numeric: tabular-nums}

/* Display */
.screen{
  flex-shrink:0;
  background:var(--panel);
  border:2px solid var(--stroke);
  border-radius:10px;
  padding:14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.badge{
  background:rgba(30,134,255,.85);
  padding:6px 10px;
  border-radius:8px;
  font-weight:800;
  letter-spacing:.5px;
  -webkit-user-select:none;
  user-select:none;
}
.value{
  font-size:56px;
  font-weight:900;
  font-variant-numeric: tabular-nums;
  line-height:1;
  -webkit-user-select:none;
  user-select:none;
}

/* Keypad pinned at bottom */
.pad{flex-shrink:0}
.grid{
  width:100%;
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:12px;
}

/* Keys */
.key{
  border:0;
  border-radius:14px;
  color:white;
  font-size:30px;
  font-weight:900;
  background:var(--num);
  display:flex;
  align-items:center;
  justify-content:center;
  user-select:none;
  -webkit-user-select:none;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout:none;
  touch-action:manipulation;     /* reduce double-tap zoom */
  aspect-ratio: 1 / 1;           /* consistent sizes */
}
.key:active{transform:scale(.98); opacity:.95}

.key.op{
  background: linear-gradient(to bottom, rgba(30,134,255,.95), rgba(18,90,180,.95));
}
.key.clear{
  background: linear-gradient(to bottom, rgba(214,122,31,.95), rgba(150,80,15,.95));
}
.key.util{background:rgba(255,255,255,.18)}
.key.wide{
  grid-column: span 2;
  aspect-ratio: 2 / 1;
}

/* Hint */
.hint{
  flex-shrink:0;
  opacity:.7;
  font-size:11px;
  text-align:center;
  margin-top:2px;
}
